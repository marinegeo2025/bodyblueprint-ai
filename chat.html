<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Chat - 本来の面目 Honrai no Menmoku</title>
    <link rel="stylesheet" href="styles.css" />
    <style>
      /* Minimal extra styling for the chat area */
      .chat-container {
        max-width: 600px;
        margin: 20px auto;
        text-align: left;
      }

      .intro-section {
        margin-bottom: 30px;
      }

      .intro-section p {
        margin-bottom: 10px;
      }

      .input-area {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-bottom: 20px;
      }

      .input-area textarea {
        width: 100%;
        min-height: 80px;
        font-family: inherit;
        padding: 10px;
      }

      .input-area button {
        align-self: flex-end;
        padding: 8px 16px;
      }

      .response-area {
        position: relative;
        border: 1px solid #ccc;
        border-radius: 5px;
        padding: 10px;
        min-height: 60px;
      }

      .copy-button {
        position: absolute;
        top: 10px;
        right: 10px;
        background: #eee;
        border: 1px solid #ccc;
        border-radius: 4px;
        padding: 4px 8px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <nav>
      <ul>
        <li><a href="index.html">🏠 Home</a></li>
        <li><a href="bmr.html">🏋️ BMR</a></li>
        <li><a href="weight.html">📉 Weight</a></li>
        <li><a href="meals.html">🍽️ Meals</a></li>
        <li><a href="chat.html">💬 AI Chat</a></li>
      </ul>
    </nav>

    <main>
      <section class="chat-container">
        <!-- Intro about Alex -->
        <div class="intro-section">
          <h1>Meet Alex, Your Elite Fitness Trainer</h1>
          <p><strong>Hi, I’m Alex—your personal, elite fitness trainer built on evidence-based, science-backed AI.</strong> My goal is to help you achieve your aesthetic and performance targets by combining advanced training strategies, data-driven meal prep, and intelligent supplementation tips that actually work. Whether you’re looking for new ways to boost muscle definition, streamline your nutrition, or fine-tune recovery, I’m here to provide specific, science-based guidance—no fluff or quick fixes.</p>

          <p>From crafting a personalized weekly workout plan to outlining precise macros for different fitness phases, I’ll make sure each recommendation is both realistic and aligned with your goals. Feel free to ask about any aspect of training, dietary planning, or supplementation. I’ll translate the latest research into practical steps and strategies that fit your lifestyle, ensuring you stay motivated and consistently see progress.</p>

          <p>Go ahead—type your questions below. Once I respond, you can easily copy and paste the conversation using the small selection icon in the corner of the text box. That way, you can keep detailed notes on your meal plans, workout schedules, or any other advice you find helpful. Let’s start your journey together and maximize your results!</p>
        </div>

        <!-- User input area -->
        <div class="input-area">
          <textarea id="userQuestion" placeholder="Ask me about meal prep, training, nutrition..."></textarea>
          <button id="askButton">Ask Alex</button>
        </div>

        <!-- AI response area with copy button -->
        <div class="response-area" id="responseContainer">
          <button class="copy-button" id="copyButton">Copy</button>
          <div id="aiResponse"></div>
        </div>
      </section>
    </main>

    <footer>
      <p>本来の面目 Honrai no Menmoku &copy; 2025</p>
    </footer>

    <script>
      // Placeholder: In a real setup, you'd fetch from your AI endpoint
      // Here we just show how to handle the user's input, display a response, and copy it.

      const askButton = document.getElementById("askButton");
      const userQuestion = document.getElementById("userQuestion");
      const aiResponse = document.getElementById("aiResponse");
      const copyButton = document.getElementById("copyButton");

      askButton.addEventListener("click", async () => {
        const question = userQuestion.value.trim();
        if (!question) return;

        // Clear the UI or show a "processing" message
        aiResponse.textContent = "Processing...";

        // Example: You'd do fetch("/api/analyze-meal", { ... }) or a direct AI call here
        // We'll simulate a response for demonstration:
        setTimeout(() => {
          aiResponse.textContent = "Your personalized, science-based answer will appear here. (Simulated)";
        }, 1000);
      });

      copyButton.addEventListener("click", () => {
        // Copies the text from the #aiResponse div
        const range = document.createRange();
        range.selectNodeContents(aiResponse);
        const selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);

        try {
          document.execCommand("copy");
          alert("Response copied to clipboard!");
        } catch (err) {
          console.error("Failed to copy", err);
        }

        selection.removeAllRanges();
      });
    </script>
  </body>
</html>
